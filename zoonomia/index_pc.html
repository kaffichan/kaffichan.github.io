<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoonomia</title>
    <link href="content/logo/favicon.ico" rel="icon" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="css/styles_pc.css" rel="stylesheet">
</head>
<body>
    <audio id="sfx-correct" src="content/sounds/correct.mp3"></audio>
    <audio id="sfx-incorrect" src="content/sounds/incorrect.mp3"></audio>
    <audio id="sfx-finish" src="content/sounds/finish.mp3"></audio>

    <div id="app-container">
        <div id="main-menu-screen" class="screen active">
            <div class="result-screen-content fade-in">
                <div class="logo-placeholder">
                    <img src="content/logo/ksavm.webp" alt="–õ–æ–≥–æ—Ç–∏–ø">
                </div>
                <h2 class="result-title" style="color: var(--ksau-blue); font-size: 3.5rem; margin-bottom: 10px;">Zoonomia</h2>
                <p style="color: var(--text-light); margin-bottom: 50px; font-size: 1.2rem; font-weight: 700;">–ö–ì–ê–í–ú</p>
                <div style="display: flex; gap: 20px;">
                    <button class="btn btn-primary" style="width: 250px;" onclick="App.showScreen('welcome-screen')">–ù–∞—á–∞—Ç—å</button>
                    <button class="btn btn-outline" style="width: 250px;" onclick="App.showScreen('authors-screen')">–ê–≤—Ç–æ—Ä—ã</button>
                </div>
            </div>
        </div>

        <div id="authors-screen" class="screen">
            <div class="header-top">
                <button class="btn-back" onclick="App.showScreen('main-menu-screen')">‚¨Ö</button>
                <h2>–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h2>
                <div style="width: 40px;"></div>
            </div>
            <div class="result-screen-content fade-in">
                <h3 style="margin-bottom: 20px; font-size: 2rem; color: var(--text-dark);">–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ö–ì–ê–í–ú</h3>
                <p style="color: var(--text-light); font-size: 1.2rem; margin-bottom: 10px; font-weight: 700;">–ê–≤—Ç–æ—Ä –∏–¥–µ–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: [–í–∞—à–µ –ò–º—è]</p>
                <p style="color: var(--text-light); font-size: 1.2rem; margin-bottom: 30px; font-weight: 700;">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: <a href="https://github.com/kaffichan">kaffi</a></p>

                <div style="background-color: var(--white); border-radius: 16px; padding: 20px; border: 2px solid var(--locked-gray); font-size: 0.9rem; color: var(--text-light); text-align: left;">
                    <strong>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br><br>
                    –î–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º. –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–∑—è—Ç—ã –∏–∑ —É—á–µ–±–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –≤ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.<br><br>
                    ¬© 2026 Zoonomia. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                </div>
            </div>
        </div>

        <div id="welcome-screen" class="screen">
            <div class="header-top">
                <button class="btn-back" onclick="App.showScreen('main-menu-screen')">‚¨Ö</button>
                <h2>–í—ã–±–æ—Ä –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã</h2>
                <div style="width: 40px;"></div>
            </div>
            <div class="theme-list fade-in-slow" id="themes-container"></div>
        </div>

        <div id="sections-screen" class="screen">
            <div class="header-top">
                <button class="btn-back" onclick="App.showScreen('welcome-screen')">‚¨Ö</button>
                <h2 id="current-theme-title">–¢–µ–º–∞</h2>
                <div style="width: 40px;"></div>
            </div>
            <div class="sections-container fade-in" id="sections-container"></div>
        </div>

        <div id="map-screen" class="screen">
            <div class="header-top">
                <button class="btn-back" onclick="App.showScreen('sections-screen')">‚¨Ö</button>
                <h2 id="current-section-title">–†–∞–∑–¥–µ–ª</h2>
                <div style="width: 40px;"></div>
            </div>
            <div class="path-container fade-in" id="path-container"></div>
        </div>

        <div id="game-screen" class="screen" style="z-index: 50;">
            <div class="top-bar">
                <button class="btn-close" onclick="App.showExitModal()">‚úñ</button>
                <div class="progress-container"><div class="progress-fill" id="progress-bar"></div></div>
                <div class="lives-counter">‚ù§Ô∏è <span id="lives-count">3</span></div>
            </div>

            <div class="game-layout">
                <div class="game-left fade-in">
                    <div class="img-placeholder" id="q-image-container">
                        <img id="q-image" src="" alt="–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –∫ –≤–æ–ø—Ä–æ—Å—É">
                    </div>
                </div>
                <div class="game-right">
                    <div class="question-zone fade-in" id="question-zone">
                        <h3 class="question-title" id="q-title">–í–æ–ø—Ä–æ—Å...</h3>
                        <div class="answers-grid" id="answers-grid"></div>
                    </div>
                    <div class="bottom-panel" id="bottom-panel">
                        <div>
                            <div class="feedback-msg correct-msg">‚úÖ –û—Ç–ª–∏—á–Ω–æ!</div>
                            <div class="feedback-msg incorrect-msg">‚ùå –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <span id="correct-answer-text" style="margin-left: 10px;"></span></div>
                        </div>
                        <button class="btn btn-primary" id="main-action-btn" disabled onclick="App.handleMainAction()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="result-screen" class="screen">
            <div class="result-screen-content fade-in">
                <div class="result-icon">üèÜ</div>
                <h2 class="result-title">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
                <div class="result-stats">
                    <div class="stat-item"><span class="stat-value" id="res-score">100%</span><span class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</span></div>
                    <div class="stat-item"><span class="stat-value" id="res-lives">3</span><span class="stat-label">–ñ–∏–∑–Ω–∏</span></div>
                </div>
                <button class="btn btn-secondary" style="width: 300px;" onclick="App.returnToMap()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <div id="defeat-screen" class="screen">
            <div class="result-screen-content fade-in">
                <div class="result-icon">üíî</div>
                <h2 class="defeat-title">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–≤–∞–ª–µ–Ω</h2>
                <p style="color: var(--text-light); margin-bottom: 40px; font-size: 1.2rem; font-weight: 700;">–ñ–∏–∑–Ω–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å. –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ ‚Äî –º–∞—Ç—å —É—á–µ–Ω–∏—è!</p>
                <div style="display: flex; gap: 20px;">
                    <button class="btn btn-primary" style="width: 250px;" onclick="App.retryLevel()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button class="btn btn-outline" style="width: 250px;" onclick="App.returnToMap()">–ù–∞ –∫–∞—Ä—Ç—É</button>
                </div>
            </div>
        </div>

        <div id="exit-modal" class="modal-overlay">
            <div class="modal-box">
                <h3 class="modal-title">–ü—Ä–µ—Ä–≤–∞—Ç—å —É—Ä–æ–∫?</h3>
                <p class="modal-text">–ü—Ä–æ–≥—Ä–µ—Å—Å —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è –±—É–¥–µ—Ç –æ–±–Ω—É–ª—ë–Ω.</p>
                <div class="modal-actions">
                    <button class="btn btn-outline" onclick="App.hideExitModal()">–û—Å—Ç–∞—Ç—å—Å—è</button>
                    <button class="btn btn-danger" onclick="App.confirmExit()">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        const GameData = {
            themes: [
                {
                    id: 'osteology',
                    title: '–û—Å—Ç–µ–æ–ª–æ–≥–∏—è',
                    subtitle: '–ù–∞—É–∫–∞ –æ –∫–æ—Å—Ç—è—Ö',
                    icon: 'ü¶¥',
                    locked: false,
                    sections: [
                        {
                            id: 'spine',
                            title: '–ü–æ–∑–≤–æ–Ω–æ—á–Ω—ã–π —Å—Ç–æ–ª–±',
                            icon: 'üêæ',
                            locked: false,
                            mascots: ['ü¶¥', 'üêï', 'üêÑ'],
                            levels: generateLevels('spine', 10, 3)
                        },
                        {
                            id: 'skull',
                            title: '–ß–µ—Ä–µ–ø',
                            icon: 'üíÄ',
                            locked: false,
                            mascots: ['üíÄ', 'üß†', 'üëÅÔ∏è'],
                            levels: generateLevels('skull', 10, 3)
                        },
                        {
                            id: 'limbs',
                            title: '–ö–æ–Ω–µ—á–Ω–æ—Å—Ç–∏',
                            icon: 'ü¶µ',
                            locked: false,
                            mascots: ['ü¶µ', 'üêæ', 'üêé'],
                            levels: generateLevels('limbs', 10, 3)
                        },
                        {
                            id: 'skeleton',
                            title: '–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫–µ–ª–µ—Ç–∞',
                            icon: 'üîí',
                            locked: true,
                            devText: '–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß'
                        },
                        {
                            id: 'bonepathology',
                            title: '–ü–∞—Ç–æ–ª–æ–≥–∏–∏ –∫–æ—Å—Ç–Ω–æ–π —Ç–∫–∞–Ω–∏',
                            icon: 'üîí',
                            locked: true,
                            devText: '–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß'
                        }
                    ]
                },
                {
                    id: 'splanchnology',
                    title: '–°–ø–ª–∞–Ω—Ö–Ω–æ–ª–æ–≥–∏—è',
                    subtitle: '–ù–∞—É–∫–∞ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—Ä–≥–∞–Ω–∞—Ö',
                    icon: 'üîí',
                    locked: true,
                    sections: []
                },
                {
                    id: 'myology',
                    title: '–ú–∏–æ–ª–æ–≥–∏—è',
                    subtitle: '–°—Ç—Ä–æ–µ–Ω–∏–µ –º—ã—à–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã',
                    icon: 'üîí',
                    locked: true,
                    sections: []
                },
                {
                    id: 'arthrology',
                    title: '–ê—Ä—Ç—Ä–æ–ª–æ–≥–∏—è',
                    subtitle: '–ê–Ω–∞—Ç–æ–º–∏—è —Å—É—Å—Ç–∞–≤–æ–≤',
                    icon: 'üîí',
                    locked: true,
                    sections: []
                }
            ]
        };

        function generateLevels(sectionId, totalCount, activeCount) {
            let levels = [];
            
            const questionsData = {
                'spine': [
                    [
                        { q: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —à–µ–π–Ω—ã–π –ø–æ–∑–≤–æ–Ω–æ–∫?", options: ["–ê—Ç–ª–∞–Ω—Ç", "–≠–ø–∏—Å—Ç—Ä–æ—Ñ–µ–π", "–ê–∫—Å–∏—Å", "–ö—Ä–µ—Å—Ç–µ—Ü"], correct: 0, img: "content/images/osteology/spine/atlante.jpg" },
                        { q: "–°–∫–æ–ª—å–∫–æ —à–µ–π–Ω—ã—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤ —É —Å–æ–±–∞–∫–∏ –∏ –∫–æ—Ä–æ–≤—ã?", options: ["5", "7", "10", "12"], correct: 1, img: "content/images/osteology/spine/cervicalvertibrae.jpg" },
                        { q: "–ö–∞–∫–æ–π –æ—Ç–¥–µ–ª –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞ —Å–ª–µ–¥—É–µ—Ç –∑–∞ —à–µ–π–Ω—ã–º?", options: ["–ü–æ—è—Å–Ω–∏—á–Ω—ã–π", "–ö—Ä–µ—Å—Ç—Ü–æ–≤—ã–π", "–ì—Ä—É–¥–Ω–æ–π", "–•–≤–æ—Å—Ç–æ–≤–æ–π"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ì—Ä—É–¥–Ω–æ–π+–æ—Ç–¥–µ–ª" },
                        { q: "–û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –≥—Ä—É–¥–Ω—ã—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤?", options: ["–ù–∞–ª–∏—á–∏–µ —Ä–µ–±–µ—Ä–Ω—ã—Ö —è–º–æ–∫", "–û–≥—Ä–æ–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä", "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–æ—Å—Ç–∫–æ–≤", "–°—Ä–∞—â–µ–Ω–∏–µ –∫–æ—Å—Ç–µ–π"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–†–µ–±–µ—Ä–Ω—ã–µ+—è–º–∫–∏" },
                        { q: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π —à–µ–π–Ω—ã–π –ø–æ–∑–≤–æ–Ω–æ–∫?", options: ["–ê—Ç–ª–∞–Ω—Ç", "–≠–ø–∏—Å—Ç—Ä–æ—Ñ–µ–π", "–ü—Ä–æ–º–µ—Ç–µ–π", "–ê—Ç–ª–∞—Å"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–≠–ø–∏—Å—Ç—Ä–æ—Ñ–µ–π" }
                    ],
                    [
                        { q: "–§—É–Ω–∫—Ü–∏—è –∑—É–±–æ–≤–∏–¥–Ω–æ–≥–æ –æ—Ç—Ä–æ—Å—Ç–∫–∞ (dens)?", options: ["–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –º—ã—à—Ü", "–ó–∞—â–∏—Ç–∞ –º–æ–∑–≥–∞", "–û—Å—å –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è –∞—Ç–ª–∞–Ω—Ç–∞", "–û–ø–æ—Ä–∞ –¥–ª—è —Ä–µ–±–µ—Ä"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ó—É–±–æ–≤–∏–¥–Ω—ã–π+–æ—Ç—Ä–æ—Å—Ç–æ–∫" },
                        { q: "–ö—Ä–µ—Å—Ç—Ü–æ–≤–∞—è –∫–æ—Å—Ç—å (os sacrum) –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∞...", options: ["–°–≤–æ–±–æ–¥–Ω—ã–º–∏ –ø–æ–∑–≤–æ–Ω–∫–∞–º–∏", "–°—Ä–æ—Å—à–∏–º–∏—Å—è –ø–æ–∑–≤–æ–Ω–∫–∞–º–∏", "–•—Ä—è—â–µ–≤–æ–π —Ç–∫–∞–Ω—å—é", "–†–µ–±—Ä–∞–º–∏"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö—Ä–µ—Å—Ç—Ü–æ–≤–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–£ –∫–∞–∫–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –Ω–∞–∏–±–æ–ª—å—à–µ–µ —á–∏—Å–ª–æ –≥—Ä—É–¥–Ω—ã—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤?", options: ["–ö–æ—Ä–æ–≤–∞", "–°–≤–∏–Ω—å—è", "–°–æ–±–∞–∫–∞", "–õ–æ—à–∞–¥—å"], correct: 3, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ì—Ä—É–¥–Ω—ã–µ+–ø–æ–∑–≤–æ–Ω–∫–∏+–ª–æ—à–∞–¥–∏" },
                        { q: "–§–æ—Ä–º–∞ –ø–æ–ø–µ—Ä–µ—á–Ω—ã—Ö –æ—Ç—Ä–æ—Å—Ç–∫–æ–≤ –ø–æ—è—Å–Ω–∏—á–Ω—ã—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤?", options: ["–ö–æ—Ä–æ—Ç–∫–∏–µ –∏ –∫—Ä—É–≥–ª—ã–µ", "–î–ª–∏–Ω–Ω—ã–µ –∏ –ø–ª–æ—Å–∫–∏–µ", "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–°–ø–∏—Ä–∞–ª–µ–≤–∏–¥–Ω—ã–µ"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ü–æ—è—Å–Ω–∏—á–Ω—ã–µ+–ø–æ–∑–≤–æ–Ω–∫–∏" },
                        { q: "–ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ö–≤–æ—Å—Ç–æ–≤—ã–µ –ø–æ–∑–≤–æ–Ω–∫–∏?", options: ["–†–µ–¥—É–∫—Ü–∏–µ–π –¥—É–∂–µ–∫ –∏ –æ—Ç—Ä–æ—Å—Ç–∫–æ–≤", "–°—Ä–∞—â–µ–Ω–∏–µ–º", "–ù–∞–ª–∏—á–∏–µ–º —Ä–µ–±–µ—Ä", "–ë–æ–ª—å—à–∏–º —Å–ø–∏–Ω–Ω–æ–º–æ–∑–≥–æ–≤—ã–º –∫–∞–Ω–∞–ª–æ–º"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–•–≤–æ—Å—Ç–æ–≤—ã–µ+–ø–æ–∑–≤–æ–Ω–∫–∏" }
                    ],
                    [
                        { q: "–ü–æ–∑–≤–æ–Ω–æ—á–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Å–æ–±–∞–∫–∏ (—à–µ–π–Ω—ã–π-–≥—Ä—É–¥–Ω–æ–π-–ø–æ—è—Å–Ω–∏—á–Ω—ã–π)?", options: ["7-13-7", "7-18-6", "7-14-6", "7-13-6"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–°–∫–µ–ª–µ—Ç+—Å–æ–±–∞–∫–∏" },
                        { q: "–ö–∞–∫–∞—è —Å–≤—è–∑–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –¥–æ—Ä—Å–∞–ª—å–Ω–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Ç–µ–ª –ø–æ–∑–≤–æ–Ω–∫–æ–≤?", options: ["–ù–∞–¥–æ—Å—Ç–∏—Å—Ç–∞—è", "–í–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª—å–Ω–∞—è", "–î–æ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª—å–Ω–∞—è", "–í—ã–π–Ω–∞—è"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–°–≤—è–∑–∫–∏+–ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞" },
                        { q: "–ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É —Ç–µ–ª–∞–º–∏ —Å–æ—Å–µ–¥–Ω–∏—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤?", options: ["–ú–µ–∂–ø–æ–∑–≤–æ–Ω–∫–æ–≤—ã–π –¥–∏—Å–∫", "–°—É—Å—Ç–∞–≤–Ω–∞—è –∫–∞–ø—Å—É–ª–∞", "–°–≤—è–∑–∫–∞", "–°–∏–Ω–æ–≤–∏–∞–ª—å–Ω–∞—è –∂–∏–¥–∫–æ—Å—Ç—å"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ú–µ–∂–ø–æ–∑–≤–æ–Ω–∫–æ–≤—ã–π+–¥–∏—Å–∫" },
                        { q: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–µ –¥—É–∂–∫–æ–π –∏ —Ç–µ–ª–æ–º –ø–æ–∑–≤–æ–Ω–∫–∞?", options: ["–ú–µ–∂–ø–æ–∑–≤–æ–Ω–∫–æ–≤–æ–µ", "–°–ø–∏–Ω–Ω–æ–º–æ–∑–≥–æ–≤–æ–µ (–ø–æ–∑–≤–æ–Ω–æ—á–Ω–æ–µ)", "–û–≤–∞–ª—å–Ω–æ–µ", "–Ø—Ä–µ–º–Ω–æ–µ"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ü–æ–∑–≤–æ–Ω–æ—á–Ω–æ–µ+–æ—Ç–≤–µ—Ä—Å—Ç–∏–µ" },
                        { q: "–£ –∫–∞–∫–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–≤–∏—Ç–∞ –≤—ã–π–Ω–∞—è —Å–≤—è–∑–∫–∞?", options: ["–°–≤–∏–Ω—å—è", "–ö–æ—à–∫–∞", "–õ–æ—à–∞–¥—å", "–°–æ–±–∞–∫–∞"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–í—ã–π–Ω–∞—è+—Å–≤—è–∑–∫–∞" }
                    ]
                ],
                'skull': [
                    [
                        { q: "–ö–∞–∫–∞—è –∫–æ—Å—Ç—å –æ–±—Ä–∞–∑—É–µ—Ç –∑–∞—Ç—ã–ª–æ—á–Ω—É—é —á–∞—Å—Ç—å —á–µ—Ä–µ–ø–∞?", options: ["–¢–µ–º–µ–Ω–Ω–∞—è", "–ó–∞—Ç—ã–ª–æ—á–Ω–∞—è", "–õ–æ–±–Ω–∞—è", "–í–∏—Å–æ—á–Ω–∞—è"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ó–∞—Ç—ã–ª–æ—á–Ω–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–æ–ª—å—à–æ–µ –∑–∞—Ç—ã–ª–æ—á–Ω–æ–µ –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ?", options: ["–í –≤–∏—Å–æ—á–Ω–æ–π –∫–æ—Å—Ç–∏", "–í –∫–ª–∏–Ω–æ–≤–∏–¥–Ω–æ–π –∫–æ—Å—Ç–∏", "–í –∑–∞—Ç—ã–ª–æ—á–Ω–æ–π –∫–æ—Å—Ç–∏", "–í –Ω–µ–±–Ω–æ–π –∫–æ—Å—Ç–∏"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ë–æ–ª—å—à–æ–µ+–∑–∞—Ç—ã–ª–æ—á–Ω–æ–µ+–æ—Ç–≤–µ—Ä—Å—Ç–∏–µ" },
                        { q: "–ö–∞–∫–∞—è –∫–æ—Å—Ç—å –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –º–æ–∑–≥–æ–≤–æ–º—É –æ—Ç–¥–µ–ª—É?", options: ["–õ–æ–±–Ω–∞—è", "–ó–∞—Ç—ã–ª–æ—á–Ω–∞—è", "–í–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è", "–¢–µ–º–µ–Ω–Ω–∞—è"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–û—Ç–¥–µ–ª—ã+—á–µ—Ä–µ–ø–∞" },
                        { q: "–ß—Ç–æ –æ–±—Ä–∞–∑—É–µ—Ç —Å–∫—É–ª–æ–≤—É—é –¥—É–≥—É?", options: ["–°–∫—É–ª–æ–≤–∞—è –∏ –≤–∏—Å–æ—á–Ω–∞—è –∫–æ—Å—Ç–∏", "–õ–æ–±–Ω–∞—è –∏ –Ω–æ—Å–æ–≤–∞—è", "–¢–µ–º–µ–Ω–Ω–∞—è –∏ –∑–∞—Ç—ã–ª–æ—á–Ω–∞—è", "–†–µ–∑—Ü–æ–≤–∞—è –∏ –≤–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–°–∫—É–ª–æ–≤–∞—è+–¥—É–≥–∞" },
                        { q: "–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –∫–æ—Å—Ç—å –ª–∏—Ü–µ–≤–æ–≥–æ –æ—Ç–¥–µ–ª–∞?", options: ["–ù–æ—Å–æ–≤–∞—è", "–í–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è", "–°–ª–µ–∑–Ω–∞—è", "–†–µ–∑—Ü–æ–≤–∞—è"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–í–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è+–∫–æ—Å—Ç—å" }
                    ],
                    [
                        { q: "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–¥–≤–∏–∂–Ω–∞—è –∫–æ—Å—Ç—å —á–µ—Ä–µ–ø–∞?", options: ["–í–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è", "–ù–∏–∂–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è", "–ù–æ—Å–æ–≤–∞—è", "–í–∏—Å–æ—á–Ω–∞—è"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ù–∏–∂–Ω—è—è+—á–µ–ª—é—Å—Ç—å" },
                        { q: "–ì–¥–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –∞–ª—å–≤–µ–æ–ª—ã –∑—É–±–æ–≤?", options: ["–ù–æ—Å–æ–≤–∞—è –∫–æ—Å—Ç—å", "–õ–æ–±–Ω–∞—è –∫–æ—Å—Ç—å", "–†–µ–∑—Ü–æ–≤–∞—è, –≤–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è, –Ω–∏–∂–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è", "–ö–ª–∏–Ω–æ–≤–∏–¥–Ω–∞—è –∫–æ—Å—Ç—å"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ê–ª—å–≤–µ–æ–ª—ã" },
                        { q: "–í –∫–∞–∫–æ–π –∫–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—Ä–µ–¥–Ω–µ–µ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Ö–æ?", options: ["–ó–∞—Ç—ã–ª–æ—á–Ω–∞—è", "–õ–æ–±–Ω–∞—è", "–í–∏—Å–æ—á–Ω–∞—è", "–¢–µ–º–µ–Ω–Ω–∞—è"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–í–∏—Å–æ—á–Ω–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ö–æ–∞–Ω—ã?", options: ["–ì–ª–∞–∑–Ω–∏—Ü—ã", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–æ—Å–æ–≤—ã–µ –æ—Ç–≤–µ—Ä—Å—Ç–∏—è", "–ó—É–±–Ω—ã–µ —è—á–µ–π–∫–∏", "–°–ª—É—Ö–æ–≤—ã–µ –ø—Ä–æ—Ö–æ–¥—ã"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–•–æ–∞–Ω—ã" },
                        { q: "–£ –∫–∞–∫–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –µ—Å—Ç—å —Ä–æ–≥–æ–≤—ã–µ –æ—Ç—Ä–æ—Å—Ç–∫–∏?", options: ["–•–∏—â–Ω—ã–µ", "–ñ–≤–∞—á–Ω—ã–µ", "–õ–æ—à–∞–¥–∏", "–°–≤–∏–Ω—å–∏"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–†–æ–≥–æ–≤—ã–µ+–æ—Ç—Ä–æ—Å—Ç–∫–∏" }
                    ],
                    [
                        { q: "–ß—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –Ω–æ—Å–æ–≤—É—é –ø–æ–ª–æ—Å—Ç—å –Ω–∞ –¥–≤–µ –ø–æ–ª–æ–≤–∏–Ω—ã?", options: ["–¢–≤–µ—Ä–¥–æ–µ –Ω–µ–±–æ", "–ù–æ—Å–æ–≤–∞—è –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∞", "–°–∫—É–ª–æ–≤–∞—è –¥—É–≥–∞", "–õ–æ–±–Ω–∞—è –∫–æ—Å—Ç—å"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ù–æ—Å–æ–≤–∞—è+–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∞" },
                        { q: "–ö–∞–∫–∏–µ –∫–æ—Å—Ç–∏ –æ–±—Ä–∞–∑—É—é—Ç —Ç–≤–µ—Ä–¥–æ–µ –Ω–µ–±–æ?", options: ["–†–µ–∑—Ü–æ–≤–∞—è, –≤–µ—Ä—Ö–Ω–µ—á–µ–ª—é—Å—Ç–Ω–∞—è, –Ω–µ–±–Ω–∞—è", "–õ–æ–±–Ω–∞—è, –Ω–æ—Å–æ–≤–∞—è, —Å–ª–µ–∑–Ω–∞—è", "–ö–ª–∏–Ω–æ–≤–∏–¥–Ω–∞—è, —Ä–µ—à–µ—Ç—á–∞—Ç–∞—è", "–í–∏—Å–æ—á–Ω–∞—è, —Ç–µ–º–µ–Ω–Ω–∞—è"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–¢–≤–µ—Ä–¥–æ–µ+–Ω–µ–±–æ" },
                        { q: "–§—É–Ω–∫—Ü–∏—è –æ–∫–æ–ª–æ–Ω–æ—Å–æ–≤—ã—Ö –ø–∞–∑—É—Ö?", options: ["–ó–∞—â–∏—Ç–∞ –º–æ–∑–≥–∞", "–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –º—ã—à—Ü", "–û–±–ª–µ–≥—á–µ–Ω–∏–µ —á–µ—Ä–µ–ø–∞ –∏ —Ä–µ–∑–æ–Ω–∞–Ω—Å", "–ö—Ä–æ–≤–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–û–∫–æ–ª–æ–Ω–æ—Å–æ–≤—ã–µ+–ø–∞–∑—É—Ö–∏" },
                        { q: "–£ –∫–∞–∫–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –µ—Å—Ç—å '—Ö–æ–±–æ—Ç–Ω–∞—è –∫–æ—Å—Ç—å' (os rostri)?", options: ["–ö–æ—Ä–æ–≤–∞", "–õ–æ—à–∞–¥—å", "–°–≤–∏–Ω—å—è", "–°–æ–±–∞–∫–∞"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–•–æ–±–æ—Ç–Ω–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–®–æ–≤ –º–µ–∂–¥—É —Ç–µ–º–µ–Ω–Ω—ã–º–∏ –∫–æ—Å—Ç—è–º–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è:", options: ["–í–µ–Ω–µ—á–Ω—ã–π", "–°–∞–≥–∏—Ç—Ç–∞–ª—å–Ω—ã–π", "–õ–∞–º–±–¥–æ–≤–∏–¥–Ω—ã–π", "–ß–µ—à—É–π—á–∞—Ç—ã–π"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ß–µ—Ä–µ–ø–Ω—ã–µ+—à–≤—ã" }
                    ]
                ],
                'limbs': [
                    [
                        { q: "–ö–∞–∫–∞—è –∫–æ—Å—Ç—å –æ–±—Ä–∞–∑—É–µ—Ç –ø–ª–µ—á–µ–≤–æ–π –ø–æ—è—Å —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö?", options: ["–ö–ª—é—á–∏—Ü–∞", "–õ–æ–ø–∞—Ç–∫–∞", "–í–æ—Ä–æ–Ω—å—è –∫–æ—Å—Ç—å", "–ì—Ä—É–¥–∏–Ω–∞"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–õ–æ–ø–∞—Ç–∫–∞" },
                        { q: "–ò–∑ –∫–∞–∫–∏—Ö –∫–æ—Å—Ç–µ–π —Å–æ—Å—Ç–æ–∏—Ç –ø—Ä–µ–¥–ø–ª–µ—á—å–µ?", options: ["–ü–ª–µ—á–µ–≤–∞—è", "–õ—É—á–µ–≤–∞—è –∏ –ª–æ–∫—Ç–µ–≤–∞—è", "–ó–∞–ø—è—Å—Ç—å–µ", "–ë–µ–¥—Ä–µ–Ω–Ω–∞—è"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ—Å—Ç–∏+–ø—Ä–µ–¥–ø–ª–µ—á—å—è" },
                        { q: "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–æ–∫—Ç–µ–≤–æ–π –æ—Ç—Ä–æ—Å—Ç–æ–∫?", options: ["–ù–∞ –ª—É—á–µ–≤–æ–π –∫–æ—Å—Ç–∏", "–ù–∞ –ª–æ–∫—Ç–µ–≤–æ–π –∫–æ—Å—Ç–∏", "–ù–∞ –ø–ª–µ—á–µ–≤–æ–π –∫–æ—Å—Ç–∏", "–ù–∞ –ª–æ–ø–∞—Ç–∫–µ"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–õ–æ–∫—Ç–µ–≤–æ–π+–æ—Ç—Ä–æ—Å—Ç–æ–∫" },
                        { q: "–ö–æ—Å—Ç–∏ –∑–∞–ø—è—Å—Ç—å—è (carpus) –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫...", options: ["–î–ª–∏–Ω–Ω—ã–º —Ç—Ä—É–±—á–∞—Ç—ã–º", "–ö–æ—Ä–æ—Ç–∫–∏–º –≥—É–±—á–∞—Ç—ã–º", "–ü–ª–æ—Å–∫–∏–º", "–°–º–µ—à–∞–Ω–Ω—ã–º"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ—Å—Ç–∏+–∑–∞–ø—è—Å—Ç—å—è" },
                        { q: "–°–∫–æ–ª—å–∫–æ –ø–∞–ª—å—Ü–µ–≤ –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∑–µ–º–ª—é —É –ª–æ—à–∞–¥–∏?", options: ["–û–¥–∏–Ω (—Ç—Ä–µ—Ç–∏–π)", "–î–≤–∞ (—Ç—Ä–µ—Ç–∏–π –∏ —á–µ—Ç–≤–µ—Ä—Ç—ã–π)", "–ß–µ—Ç—ã—Ä–µ", "–ü—è—Ç—å"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ–ø—ã—Ç–æ+–ª–æ—à–∞–¥–∏" }
                    ],
                    [
                        { q: "–ò–∑ –∫–∞–∫–∏—Ö –∫–æ—Å—Ç–µ–π —Å–æ—Å—Ç–æ–∏—Ç —Ç–∞–∑–æ–≤–∞—è –∫–æ—Å—Ç—å?", options: ["–ü–æ–¥–≤–∑–¥–æ—à–Ω–∞—è, —Å–µ–¥–∞–ª–∏—â–Ω–∞—è, –ª–æ–Ω–Ω–∞—è", "–ë–µ–¥—Ä–µ–Ω–Ω–∞—è, –±–æ–ª—å—à–µ–±–µ—Ä—Ü–æ–≤–∞—è", "–ö—Ä–µ—Å—Ç–µ—Ü, –∫–æ–ø—á–∏–∫", "–õ–æ–ø–∞—Ç–∫–∞, –∫–ª—é—á–∏—Ü–∞"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–¢–∞–∑–æ–≤–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è —Ç—Ä—É–±—á–∞—Ç–∞—è –∫–æ—Å—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º–∞?", options: ["–ü–ª–µ—á–µ–≤–∞—è", "–ë–æ–ª—å—à–µ–±–µ—Ä—Ü–æ–≤–∞—è", "–ë–µ–¥—Ä–µ–Ω–Ω–∞—è", "–õ—É—á–µ–≤–∞—è"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ë–µ–¥—Ä–µ–Ω–Ω–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞–¥–∫–æ–ª–µ–Ω–Ω–∏–∫ (patella)?", options: ["–¢—Ä—É–±—á–∞—Ç–∞—è –∫–æ—Å—Ç—å", "–ü–ª–æ—Å–∫–∞—è –∫–æ—Å—Ç—å", "–ö—Ä—É–ø–Ω–µ–π—à–∞—è —Å–µ—Å–∞–º–æ–≤–∏–¥–Ω–∞—è –∫–æ—Å—Ç—å", "–ß–∞—Å—Ç—å —Ç–∞–∑–∞"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ù–∞–¥–∫–æ–ª–µ–Ω–Ω–∏–∫" },
                        { q: "–ò–∑ –∫–∞–∫–∏—Ö –∫–æ—Å—Ç–µ–π —Å–æ—Å—Ç–æ–∏—Ç –≥–æ–ª–µ–Ω—å?", options: ["–ë–µ–¥—Ä–µ–Ω–Ω–∞—è", "–ë–æ–ª—å—à–µ–±–µ—Ä—Ü–æ–≤–∞—è –∏ –º–∞–ª–æ–±–µ—Ä—Ü–æ–≤–∞—è", "–õ—É—á–µ–≤–∞—è –∏ –ª–æ–∫—Ç–µ–≤–∞—è", "–ó–∞–ø–ª—é—Å–Ω–∞"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ—Å—Ç–∏+–≥–æ–ª–µ–Ω–∏" },
                        { q: "–°—É—Å—Ç–∞–≤ –º–µ–∂–¥—É –±–µ–¥—Ä–æ–º –∏ –≥–æ–ª–µ–Ω—å—é?", options: ["–¢–∞–∑–æ–±–µ–¥—Ä–µ–Ω–Ω—ã–π", "–ö–æ–ª–µ–Ω–Ω—ã–π", "–°–∫–∞–∫–∞—Ç–µ–ª—å–Ω—ã–π", "–ó–∞–ø—è—Å—Ç–Ω—ã–π"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ–ª–µ–Ω–Ω—ã–π+—Å—É—Å—Ç–∞–≤" }
                    ],
                    [
                        { q: "–°–∫–∞–∫–∞—Ç–µ–ª—å–Ω—ã–π —Å—É—Å—Ç–∞–≤ - —ç—Ç–æ —Å–∏–Ω–æ–Ω–∏–º...", options: ["–ö–æ–ª–µ–Ω–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞", "–ó–∞–ø–ª—é—Å–Ω–µ–≤–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞", "–¢–∞–∑–æ–±–µ–¥—Ä–µ–Ω–Ω–æ–≥–æ", "–ü—É—Ç–æ–≤–æ–≥–æ"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–°–∫–∞–∫–∞—Ç–µ–ª—å–Ω—ã–π+—Å—É—Å—Ç–∞–≤" },
                        { q: "–ü—è—Ç–æ—á–Ω–∞—è –∫–æ—Å—Ç—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤...", options: ["–ó–∞–ø—è—Å—Ç—å—è", "–ó–∞–ø–ª—é—Å–Ω—ã (–ø—Ä–µ–¥–ø–ª—é—Å–Ω—ã)", "–ü—è—Å—Ç–∏", "–ü–ª—é—Å–Ω—ã"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ü—è—Ç–æ—á–Ω–∞—è+–∫–æ—Å—Ç—å" },
                        { q: "–¢—Ä–µ—Ç—å—è (–¥–∏—Å—Ç–∞–ª—å–Ω–∞—è) —Ñ–∞–ª–∞–Ω–≥–∞ –ø–∞–ª—å—Ü–∞ —É –ª–æ—à–∞–¥–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è:", options: ["–ü—É—Ç–æ–≤–∞—è –∫–æ—Å—Ç—å", "–í–µ–Ω–µ—á–Ω–∞—è –∫–æ—Å—Ç—å", "–ö–æ–ø—ã—Ç–Ω–∞—è –∫–æ—Å—Ç—å", "–°–µ—Å–∞–º–æ–≤–∏–¥–Ω–∞—è –∫–æ—Å—Ç—å"], correct: 2, img: "https://placehold.co/400x300/e5e5e5/777777?text=–§–∞–ª–∞–Ω–≥–∏+–ø–∞–ª—å—Ü–∞+–ª–æ—à–∞–¥–∏" },
                        { q: "–°–∫–æ–ª—å–∫–æ –ø–∞–ª—å—Ü–µ–≤ —É –∫–æ—Ä–æ–≤—ã (–ø–∞—Ä–Ω–æ–∫–æ–ø—ã—Ç–Ω–æ–µ)?", options: ["1", "2", "4", "5"], correct: 1, img: "https://placehold.co/400x300/e5e5e5/777777?text=–ö–æ–ø—ã—Ç–æ+–∫–æ—Ä–æ–≤—ã" },
                        { q: "–§—É–Ω–∫—Ü–∏—è —Å–µ—Å–∞–º–æ–≤–∏–¥–Ω—ã—Ö –∫–æ—Å—Ç–µ–π?", options: ["–ó–∞—â–∏—Ç–∞ —Å—É—Ö–æ–∂–∏–ª–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —É–≥–ª–∞ —Ç—è–≥–∏ –º—ã—à—Ü", "–ö—Ä–æ–≤–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ", "–û–ø–æ—Ä–∞ —Ç–µ–ª–∞", "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–Ω–∫–æ–≤"], correct: 0, img: "https://placehold.co/400x300/e5e5e5/777777?text=–°–µ—Å–∞–º–æ–≤–∏–¥–Ω—ã–µ+–∫–æ—Å—Ç–∏" }
                    ]
                ]
            };

            for(let i = 0; i < totalCount; i++) {
                const isActive = i < activeCount;
                levels.push({
                    id: `${sectionId}_lvl_${i+1}`,
                    numericId: i+1,
                    type: isActive ? "active" : "locked",
                    questions: isActive ? questionsData[sectionId][i].map(q => ({
                        ...q,
                        img: q.img || `https://placehold.co/400x300/e5e5e5/777777?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è` 
                    })) : []
                });
            }
            return levels;
        }


        const App = {
            state: {
                progress: [],
                currentTheme: null,
                currentSection: null,
                currentLevel: null,
                questionIndex: 0,
                lives: 3,
                selectedAnswer: null,
                isAnswerChecked: false,
                correctAnswersInLevel: 0
            },

            init() {
                this.loadProgress();
                this.renderThemes();
                
                setTimeout(() => {
                    const loader = document.getElementById('loader');
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                        this.showScreen('main-menu-screen');
                    }, 800);
                }, 2000);
            },

            setCookie(name, value, days) {
                let expires = "";
                if (days) {
                    const date = new Date();
                    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                    expires = "; expires=" + date.toUTCString();
                }
                document.cookie = name + "=" + (value || "")  + expires + "; path=/";
            },
            
            getCookie(name) {
                const nameEQ = name + "=";
                const ca = document.cookie.split(';');
                for(let i=0; i < ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0)==' ') c = c.substring(1,c.length);
                    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
                }
                return null;
            },

            loadProgress() {
                const saved = localStorage.getItem('ksavm_progress_v2') || this.getCookie('ksavm_progress_v2');
                
                if (saved) {
                    this.state.progress = saved.split(',').filter(item => item.trim() !== '');
                } else {
                    this.state.progress = [];
                }
            },

            saveProgress(levelId) {
                if (!this.state.progress.includes(levelId)) {
                    this.state.progress.push(levelId);
                    
                    const progressString = this.state.progress.join(',');
                    
                    localStorage.setItem('ksavm_progress_v2', progressString);
                    this.setCookie('ksavm_progress_v2', progressString, 365);
                }
            },

            showScreen(screenId) {
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                const screen = document.getElementById(screenId);
                screen.classList.add('active');
                
                const animators = screen.querySelectorAll('.fade-in, .fade-in-slow');
                animators.forEach(el => {
                    el.style.animation = 'none';
                    void el.offsetWidth; // trigger reflow
                    el.style.animation = null;
                });
            },

            playSound(id) {
                try {
                    const audio = document.getElementById(id);
                    if(audio) {
                        audio.currentTime = 0;
                        audio.play().catch(() => {});
                    }
                } catch(e) {}
            },

            renderThemes() {
                const container = document.getElementById('themes-container');
                container.innerHTML = '';

                GameData.themes.forEach(theme => {
                    const div = document.createElement('div');
                    div.className = `card ${theme.locked ? 'locked' : 'active-card'}`;
                    
                    div.innerHTML = `
                        <div class="card-icon">${theme.icon}</div>
                        <div class="card-content">
                            <div class="card-title">${theme.title}</div>
                            <div class="card-subtitle">${theme.locked ? theme.devText || '–ó–∞–∫—Ä—ã—Ç–æ' : theme.subtitle}</div>
                        </div>
                    `;

                    if (!theme.locked) {
                        div.onclick = () => this.openTheme(theme.id);
                    }

                    container.appendChild(div);
                });
            },

            openTheme(themeId) {
                this.state.currentTheme = GameData.themes.find(t => t.id === themeId);
                document.getElementById('current-theme-title').innerText = this.state.currentTheme.title;
                this.renderSections();
                this.showScreen('sections-screen');
            },

            renderSections() {
                const container = document.getElementById('sections-container');
                container.innerHTML = '';

                this.state.currentTheme.sections.forEach(section => {
                    const div = document.createElement('div');
                    div.className = `card ${section.locked ? 'locked' : ''}`;
                    
                    div.innerHTML = `
                        <div class="card-icon">${section.icon}</div>
                        <div class="card-content">
                            <div class="card-title">${section.title}</div>
                            <div class="card-subtitle">${section.locked ? section.devText : '–£—Ä–æ–≤–Ω–µ–π: 10'}</div>
                        </div>
                    `;

                    if (!section.locked) {
                        div.onclick = () => this.openSection(section.id);
                    }

                    container.appendChild(div);
                });
            },

            openSection(sectionId) {
                this.state.currentSection = this.state.currentTheme.sections.find(s => s.id === sectionId);
                document.getElementById('current-section-title').innerText = this.state.currentSection.title;
                this.renderMap();
                this.showScreen('map-screen');
            },

            renderMap() {
                const container = document.getElementById('path-container');
                container.innerHTML = '';
                
                const section = this.state.currentSection;

                section.levels.forEach((lvl, index) => {
                    const btn = document.createElement('div');
                    btn.classList.add('level-node');
                    
                    let statusClass = 'level-locked';
                    let iconText = 'üîí';
                    
                    const isPassed = this.state.progress.includes(lvl.id);
                    const prevPassed = index === 0 || this.state.progress.includes(section.levels[index-1].id);

                    if (lvl.type === 'active') {
                        if (isPassed) {
                            statusClass = 'level-passed';
                            iconText = '‚≠ê';
                        } else if (prevPassed) {
                            statusClass = 'level-active';
                            iconText = section.icon;
                            
                            const mascotIcon = section.mascots[index % section.mascots.length];
                            btn.innerHTML = `<div class="mascot-helper">${mascotIcon}</div>`;
                        }
                    }

                    btn.classList.add(statusClass);
                    if (statusClass === 'level-locked') btn.classList.add('locked');
                    btn.innerHTML += iconText;

                    if (statusClass !== 'level-locked') {
                        btn.onclick = () => this.startLevel(lvl.id);
                    }

                    container.appendChild(btn);
                });
            },

            startLevel(levelId) {
                const levelData = this.state.currentSection.levels.find(l => l.id === levelId);
                if (!levelData || levelData.questions.length === 0) return;

                this.state.currentLevel = levelData;
                this.state.questionIndex = 0;
                this.state.lives = 3;
                this.state.correctAnswersInLevel = 0;
                
                document.getElementById('lives-count').innerText = this.state.lives;
                this.showScreen('game-screen');
                this.renderQuestion();
            },

            renderQuestion() {
                this.state.selectedAnswer = null;
                this.state.isAnswerChecked = false;
                
                const qData = this.state.currentLevel.questions[this.state.questionIndex];

                const qZone = document.getElementById('question-zone');
                qZone.classList.remove('fade-in');
                void qZone.offsetWidth;
                qZone.classList.add('fade-in');

                document.getElementById('q-title').innerText = qData.q;
                
                const imgEl = document.getElementById('q-image');
                imgEl.src = qData.img;
                
                const progressPct = (this.state.questionIndex / this.state.currentLevel.questions.length) * 100;
                document.getElementById('progress-bar').style.width = `${progressPct}%`;

                const grid = document.getElementById('answers-grid');
                grid.innerHTML = '';
                
                qData.options.forEach((opt, index) => {
                    const card = document.createElement('div');
                    card.className = 'answer-card';
                    card.innerText = opt;
                    card.onclick = () => this.selectAnswer(index, card);
                    grid.appendChild(card);
                });

                const panel = document.getElementById('bottom-panel');
                panel.className = 'bottom-panel';
                const btn = document.getElementById('main-action-btn');
                btn.innerText = '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å';
                btn.disabled = true;
                btn.className = 'btn btn-primary';
            },

            selectAnswer(index, cardElement) {
                if (this.state.isAnswerChecked) return;

                document.querySelectorAll('.answer-card').forEach(c => c.classList.remove('selected'));
                cardElement.classList.add('selected');
                
                this.state.selectedAnswer = index;
                document.getElementById('main-action-btn').disabled = false;
            },

            handleMainAction() {
                if (!this.state.isAnswerChecked) {
                    this.checkAnswer();
                } else {
                    this.nextQuestion();
                }
            },

            checkAnswer() {
                this.state.isAnswerChecked = true;
                const qData = this.state.currentLevel.questions[this.state.questionIndex];
                const isCorrect = this.state.selectedAnswer === qData.correct;
                
                const cards = document.querySelectorAll('.answer-card');
                const panel = document.getElementById('bottom-panel');
                const btn = document.getElementById('main-action-btn');

                if (isCorrect) {
                    cards[this.state.selectedAnswer].classList.add('correct');
                    panel.classList.add('state-correct');
                    btn.innerText = '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
                    this.playSound('sfx-correct');
                    this.state.correctAnswersInLevel++;
                } else {
                    cards[this.state.selectedAnswer].classList.add('incorrect');
                    cards[qData.correct].classList.add('correct');

                    document.getElementById('correct-answer-text').innerText = qData.options[qData.correct];
                    panel.classList.add('state-incorrect');
                    
                    this.state.lives--;
                    document.getElementById('lives-count').innerText = this.state.lives;
                    
                    btn.innerText = '–ü–æ–Ω—è—Ç–Ω–æ';
                    btn.classList.remove('btn-primary');
                    btn.classList.add('btn-danger');
                    
                    this.playSound('sfx-incorrect');

                    if (this.state.lives <= 0) {
                        btn.innerText = '–ó–∞–≤–µ—Ä—à–∏—Ç—å';
                    }
                }
            },

            nextQuestion() {
                if (this.state.lives <= 0) {
                    this.showDefeatScreen();
                    return;
                }

                this.state.questionIndex++;
                if (this.state.questionIndex >= this.state.currentLevel.questions.length) {
                    this.finishLevel();
                } else {
                    this.renderQuestion();
                }
            },

            finishLevel() {
                document.getElementById('progress-bar').style.width = '100%';
                this.playSound('sfx-finish');
                
                const total = this.state.currentLevel.questions.length;
                const accuracy = Math.round((this.state.correctAnswersInLevel / total) * 100);
                
                document.getElementById('res-score').innerText = `${accuracy}%`;
                document.getElementById('res-lives').innerText = this.state.lives;
                
                this.saveProgress(this.state.currentLevel.id);
                this.renderMap();
                this.showScreen('result-screen');
            },

            showDefeatScreen() {
                this.showScreen('defeat-screen');
            },

            retryLevel() {
                this.startLevel(this.state.currentLevel.id);
            },

            showExitModal() {
                const modal = document.getElementById('exit-modal');
                modal.style.display = 'flex';
                void modal.offsetWidth;
                modal.classList.add('visible');
            },

            hideExitModal() {
                const modal = document.getElementById('exit-modal');
                modal.classList.remove('visible');
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300);
            },

            confirmExit() {
                this.hideExitModal();
                this.returnToMap();
            },

            returnToMap() {
                this.showScreen('map-screen');
            }
        };

        window.onload = () => App.init();

    </script>
</body>
</html>